{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import numpy as np\n",
    "import seaborn as sns\n",
    "import matplotlib.pyplot as plt\n",
    "sns.set(style=\"ticks\", color_codes=True)\n",
    "from sklearn.linear_model import LogisticRegression\n",
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn.ensemble import RandomForestClassifier\n",
    "from sklearn.metrics import accuracy_score\n",
    "from sklearn.metrics import confusion_matrix\n",
    "from sklearn import metrics"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "df = pd.read_csv('data/druguse.tsv', sep='\\t')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>CASEID</th>\n",
       "      <th>QUESTID2</th>\n",
       "      <th>CIGEVER</th>\n",
       "      <th>CIGOFRSM</th>\n",
       "      <th>CIGWILYR</th>\n",
       "      <th>CIGTRY</th>\n",
       "      <th>CIGYFU</th>\n",
       "      <th>CIGMFU</th>\n",
       "      <th>CIGREC</th>\n",
       "      <th>CIG30USE</th>\n",
       "      <th>...</th>\n",
       "      <th>IIEMPSTY</th>\n",
       "      <th>II2EMSTY</th>\n",
       "      <th>EMPSTAT4</th>\n",
       "      <th>IIEMPST4</th>\n",
       "      <th>II2EMST4</th>\n",
       "      <th>PDEN00</th>\n",
       "      <th>COUTYP2</th>\n",
       "      <th>ANALWT_C</th>\n",
       "      <th>VESTR</th>\n",
       "      <th>VEREP</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1</td>\n",
       "      <td>50886467</td>\n",
       "      <td>2</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>991</td>\n",
       "      <td>9991</td>\n",
       "      <td>91</td>\n",
       "      <td>91</td>\n",
       "      <td>91</td>\n",
       "      <td>...</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>99</td>\n",
       "      <td>9</td>\n",
       "      <td>9</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>1275.597449</td>\n",
       "      <td>30054</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2</td>\n",
       "      <td>13766883</td>\n",
       "      <td>2</td>\n",
       "      <td>99</td>\n",
       "      <td>99</td>\n",
       "      <td>991</td>\n",
       "      <td>9991</td>\n",
       "      <td>91</td>\n",
       "      <td>91</td>\n",
       "      <td>91</td>\n",
       "      <td>...</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>5191.071173</td>\n",
       "      <td>30031</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>3</td>\n",
       "      <td>17772877</td>\n",
       "      <td>2</td>\n",
       "      <td>99</td>\n",
       "      <td>99</td>\n",
       "      <td>991</td>\n",
       "      <td>9991</td>\n",
       "      <td>91</td>\n",
       "      <td>91</td>\n",
       "      <td>91</td>\n",
       "      <td>...</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>419.742011</td>\n",
       "      <td>30056</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>4</td>\n",
       "      <td>45622817</td>\n",
       "      <td>1</td>\n",
       "      <td>99</td>\n",
       "      <td>99</td>\n",
       "      <td>13</td>\n",
       "      <td>9999</td>\n",
       "      <td>99</td>\n",
       "      <td>2</td>\n",
       "      <td>93</td>\n",
       "      <td>...</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>2</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>1449.303889</td>\n",
       "      <td>30054</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>5</td>\n",
       "      <td>17239390</td>\n",
       "      <td>1</td>\n",
       "      <td>99</td>\n",
       "      <td>99</td>\n",
       "      <td>11</td>\n",
       "      <td>9999</td>\n",
       "      <td>99</td>\n",
       "      <td>4</td>\n",
       "      <td>93</td>\n",
       "      <td>...</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>15344.293577</td>\n",
       "      <td>30012</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows Ã— 3120 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "   CASEID  QUESTID2  CIGEVER  CIGOFRSM  CIGWILYR  CIGTRY  CIGYFU  CIGMFU  \\\n",
       "0       1  50886467        2         4         4     991    9991      91   \n",
       "1       2  13766883        2        99        99     991    9991      91   \n",
       "2       3  17772877        2        99        99     991    9991      91   \n",
       "3       4  45622817        1        99        99      13    9999      99   \n",
       "4       5  17239390        1        99        99      11    9999      99   \n",
       "\n",
       "   CIGREC  CIG30USE  ...    IIEMPSTY  II2EMSTY  EMPSTAT4  IIEMPST4  II2EMST4  \\\n",
       "0      91        91  ...           1         1        99         9         9   \n",
       "1      91        91  ...           1         1         1         1         1   \n",
       "2      91        91  ...           1         1         1         1         1   \n",
       "3       2        93  ...           1         1         2         1         1   \n",
       "4       4        93  ...           1         1         1         1         1   \n",
       "\n",
       "   PDEN00  COUTYP2      ANALWT_C  VESTR  VEREP  \n",
       "0       2        2   1275.597449  30054      2  \n",
       "1       2        2   5191.071173  30031      1  \n",
       "2       3        3    419.742011  30056      2  \n",
       "3       2        2   1449.303889  30054      1  \n",
       "4       1        1  15344.293577  30012      2  \n",
       "\n",
       "[5 rows x 3120 columns]"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#HALLUCINOGENS\n",
    "\n",
    "hall = ['HALFLAG', 'HALYR', 'HALMON', 'LSDFLAG', 'LSDYR', 'LSDMON', 'PCPFLAG', 'PCPYR', 'PCPMON', 'ECSFLAG', 'ECSYR', 'ECSMON', 'PEYOTE2', 'MESC2', 'PSILCY2', 'HALYDAYS', 'HALMDAYS', 'FUHAL18', 'FUHAL21', 'FULSD18', 'FULSD21', 'FUPCP18', 'FUPCP21', 'FUECS18', 'FUECS21', 'LSLAST', 'TOTHALL']\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "halldf = df[['HALFLAG', 'HALYR', 'HALMON', 'LSDFLAG', 'LSDYR', 'LSDMON', 'PCPFLAG', 'PCPYR', 'PCPMON', 'ECSFLAG', 'ECSYR', 'ECSMON', 'PEYOTE2', 'MESC2', 'PSILCY2', 'HALYDAYS', 'HALMDAYS', 'FUHAL18', 'FUHAL21', 'FULSD18', 'FULSD21', 'FUPCP18', 'FUPCP21', 'FUECS18', 'FUECS21', 'LSLAST', 'TOTHALL', 'AMDELT']]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [],
   "source": [
    "#For a group of featurs, calculate the depression precent of consumers and non comsumers of a drug\n",
    "def dep_precent(df, target):\n",
    "    consumers = []\n",
    "    non_consumers = []\n",
    "    for col in df.columns:\n",
    "        frames = [df[[col]], target]\n",
    "        ever_used = pd.concat(frames, axis=1, sort=False)\n",
    "        grouped = ever_used.groupby([col, 'AMDELT']).size().reset_index(name='count')\n",
    "        non_consumer = grouped.iloc[0,2] / (grouped.iloc[0,2] + grouped.iloc[1,2])\n",
    "        consumer = grouped.iloc[2,2] / (grouped.iloc[2,2] + grouped.iloc[3,2])\n",
    "        non_consumers.append(non_consumer)\n",
    "        consumers.append(consumer)\n",
    "    return consumers, non_consumers    "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [],
   "source": [
    "#Features for have you have used a drug\n",
    "target = df[['AMDELT']]\n",
    "target = target[target.AMDELT > 0]\n",
    "ever_used = df[['CIGFLAG', 'CGRFLAG', 'SNFFLAG', 'ALCFLAG', 'MRJFLAG', 'COCFLAG', 'CRKFLAG', 'HERFLAG','HALFLAG','INHFLAG', 'ANLFLAG', 'TRQFLAG', 'STMFLAG', 'SEDFLAG']]\n",
    "consumers, non_consumers = dep_precent(ever_used, target)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [],
   "source": [
    "#Drug frequency\n",
    "frames = [df[['IRCIGFM']], target]\n",
    "freq_used = pd.concat(frames, axis=1, sort=False)\n",
    "freq_used = freq_used.dropna()\n",
    "freq_group = freq_used.groupby(['IRCIGFM', 'AMDELT']).size().reset_index(name='count')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [],
   "source": [
    "has_dep = freq_group[freq_group.AMDELT == 1.0]\n",
    "no_dep = freq_group[freq_group.AMDELT == 2.0]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {},
   "outputs": [],
   "source": [
    "dep_less_than_15 = has_dep.loc[has_dep.IRCIGFM < 15]\n",
    "dep_less_than_15 = dep_less_than_15['count'].sum()\n",
    "no_dep_less_than_15 = no_dep.loc[no_dep.IRCIGFM < 15]\n",
    "no_dep_less_than_15 = no_dep_less_than_15['count'].sum()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "metadata": {},
   "outputs": [],
   "source": [
    "dep_between_15_to_30 = has_dep.loc[(has_dep.IRCIGFM > 14) & (has_dep.IRCIGFM < 31)]\n",
    "dep_between_15_to_30 = dep_between_15_to_30['count'].sum()\n",
    "no_dep_between_15_to_30 = no_dep.loc[(no_dep.IRCIGFM > 14) & (no_dep.IRCIGFM < 31)]\n",
    "no_dep_between_15_to_30 = no_dep_between_15_to_30['count'].sum()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "519"
      ]
     },
     "execution_count": 32,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "dep_less_than_15"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "2537"
      ]
     },
     "execution_count": 33,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "no_dep_less_than_15"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "6552"
      ]
     },
     "execution_count": 35,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "no_dep_between_15_to_30"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "1564"
      ]
     },
     "execution_count": 36,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "dep_between_15_to_30"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "metadata": {},
   "outputs": [],
   "source": [
    "dep_less_than_11 = has_dep.loc[has_dep.IRCIGFM < 11]\n",
    "dep_less_than_11 = dep_less_than_11['count'].sum()\n",
    "no_dep_less_than_11 = no_dep.loc[no_dep.IRCIGFM < 11]\n",
    "no_dep_less_than_11 = no_dep_less_than_11['count'].sum()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "489"
      ]
     },
     "execution_count": 45,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "dep_less_than_11"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "2369"
      ]
     },
     "execution_count": 46,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "no_dep_less_than_11"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "metadata": {},
   "outputs": [],
   "source": [
    "dep_between_11_to_30 = has_dep.loc[(has_dep.IRCIGFM > 10) & (has_dep.IRCIGFM < 31)]\n",
    "dep_between_11_to_30 = dep_between_11_to_30['count'].sum()\n",
    "no_dep_between_11_to_30 = no_dep.loc[(no_dep.IRCIGFM > 10) & (no_dep.IRCIGFM < 31)]\n",
    "no_dep_between_11_to_30 = no_dep_between_11_to_30['count'].sum()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 48,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "1592"
      ]
     },
     "execution_count": 48,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "dep_between_11_to_30"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 49,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "6710"
      ]
     },
     "execution_count": 49,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "no_dep_between_11_to_30"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [],
   "source": [
    "\n",
    "grouped = df.groupby(['ALCFLAG', 'AMDELT'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "ALCFLAG  AMDELT\n",
       "0        -9        11644\n",
       "          1          421\n",
       "          2         4435\n",
       "1        -9         6033\n",
       "          1         5165\n",
       "          2        27570\n",
       "dtype: int64"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "grouped.size()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [],
   "source": [
    "ever_used2 = df[['CIGFLAG', 'CGRFLAG', 'SNFFLAG', 'ALCFLAG', 'MRJFLAG', 'COCFLAG', 'CRKFLAG', 'HERFLAG','HALFLAG','INHFLAG', 'ANLFLAG', 'TRQFLAG', 'STMFLAG', 'SEDFLAG', 'AMDELT']]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "ever_used2.corr()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "freq_used.corr()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "consumers"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "non_consumers"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 50,
   "metadata": {},
   "outputs": [],
   "source": [
    "n_groups = len(consumers)\n",
    "bar_width = 0.35\n",
    "opacity = 0.8"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAagAAAEYCAYAAAAJeGK1AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDIuMi4yLCBodHRwOi8vbWF0cGxvdGxpYi5vcmcvhp/UCwAAIABJREFUeJzt3XecFdX9//HXLiCgVEFF8Wco6gcbqIiisYCCEZTYIxYUrGhs8I1GrIso9mA3CvJFUVH8iiUiKNiiiDUmYuEDGAnYAiiIC1IW9vfHOVeu65ah3N1Z9v18PHiwd8qZz8ydO585U87JKy4uRkREJG3yqzoAERGR0ihBiYhIKilBiYhIKilBiYhIKilBiYhIKilBiYhIKtWu6gCkejGzVsDnwLQ4KB8oBG5397FVFVd5zKw/0MTdb9wAZXUB7nb3Xdc7sF+W2wr42N0b5GL6BOXtBfyfu7fK3l5mdigwHPgv0B14AWgCXOXu4zbEssuJ6WrgX+7+bAXTHQec7+5dchmPVD4lKFkXP7n77pkPZvYb4GUzW+XuT1VhXKVy979WdQzVSYnt1RsY7u7XmdmBwFbuvn0lhXIw8GklLUtSSAlK1pu7/yee7V4CPGVmmwA3AQcBtYAPgQvdfbGZzQbGEM7GmwC3uft9sWZyB7AEaAB0Ag4FrgQ2AZYCf3L3qWbWDngQqAfkASPc/d5yhhcAzd39fDPbBbgbaAYUx+U/HJd/PfBvYFegDnCOu08pa73LWk+gcyx3tzhdE+ALoA2waVz+dnEZj7v70BLllroepYSQb2YjgI7Ayrjsd4DphBrFpFjeCGCau99RYjnnAgOAH1hTIyazvYD/AEcBP5lZR2A3oKWZ/RPYF9gjrv9mwCpgsLs/b2Z9gTPi8B/cvauZnQGcR6hxfxfjm25mo4DFsez/B3wEnAqcBuwF3BJPfJ4uEfu1wMmxrJlZw0cBmwNtgeeBrQg1zVuzxn/s7reaWSfgPsL+9TnwG2Cgu79WyraWKqB7ULKh/ItwkAG4DCgCOrp7B+BrIPvy2uaEBNQFuNbMMvPtCpzo7u0JB/ChQE933wM4GxhnZpsREuHf3L0j0BM40MzyyxkOgJnVBp4D7orL6AEMNbN94yT7EBLLHsD/xuWXp6z1nAQ0iJfNAE4Exrv7QmA0MDLGuDfQzcz+UKLcctcjS31gUoz3SuBJQtK7DzgrrnND4PfAQ9kzmtnuQAFwoLt3AlaULNzdb4nba5i7Hw2cCXwea8/14jbq4+57AkcC95nZdnH2XYAuMTkdREg4B8RYbwayE05H4DBgJ6AVcLy73wO8D1xSSnI6EjgW2B3YD2hcIvRN3X0Xd/9zKdssU0ZtYBzhUmV74M5YnqSIEpRsKMWEWg7AEYQD1ofxbPsoYOesae9x92J3/xKYSKgpAcx19//Ev7sDWxMuHf4TeBRYDWxPOLhdambjgGMItbPV5QzP2BGol7l34u5fA08RDo4A/3H3f8a//0FIpOUpdT3dvRgYCfSN0/UDhsfkehAwJE7/NiERlzwwVrQeGYvc/Ym4Li/FYe2AUUB3M9sCOAV43t0XlZj3EOAld/82fn6ggnUtaV/C9/NMXJcXCPtA+zj+I3dfHP8+nPC9vRWnvRloamaZ7TvR3Ze7+0pCTa6i7d4NGOfuP7p7EWFbZ3szQfy7Abj7hPj/q8DHCeaTSqQEJRtKJ9ZcJqoFXOTuu8ez7b2B47KmLcr6O59weQjCwxYZtYCXM2XEcjoTLs88D+wAjCVcZppmZtuWNbxEmSUbn8wn1DoAfsoaXky4vFae8tZzJHB8rKk0cffX4/R5wH4l1ukXNbUE65GxqsTnfGBlTEZPEpLT6UBZ9+Cy16+ojGnKUgv4rJTv58U4vuR3OTpruj0Jl+8WxvFru90rij172SXL2yRrnpLLKbk9pYopQcl6M7MdgauA2+KgF4HzzWyTeGlqOHBD1iynxvm2I9SeJpRS7MvAofF+DGbWk3B/or6ZPQac4O6PE+5rLAbaljU8q8zpwEozOyaWuQ3hUtGkdVz1MtfT3b8C3gXuB0bEYYsJtaaBcflNgCmEWtjPEqxHRjMzOyLO04twoM/cj7mHcE8q393fLWXelwjbN5P4+q7lur8N7BAfnMhcMpwJtCxl2heBE81s6/i5P+H7rUgRa04esk0gJP8mcbv3KaeM+YRkmPm+D4rDPwOWm9lhcdzehFqVWs9OESUoWRf1zeyf8d8/CJeUBrn7+Dh+CDCb8NDAp4Qz1f/Jmr+1mX1AuLx3obt7yQW4+6eE+06Pm9m/Ypm/d/fC+PfJcfg7hEtify9neKbMlYTLcBeZ2UfAZODaeHlnXVS0nsMJNaDs+z8nAZ3NbFqMcYy7P1pKuWWuR5Z5wLHxstkg4Nh4yQt3/xehhlJq7cndpwGXEi6hvk+4p5SYu88nJPdbYpyjCfejZpcy7UuEhykmxe1+EnBMvBRanueAG8zstBLlvUCoob5P2D4/lFPGXcDWZuaEe2avxDKKYvwFZvYh4Xv7ljWXqSUF8tTdhlSm+BTfce7+fhWHslEzs7bAa4C5uw66pTCzW4Bb3f2/Zvb/CA/6tCnlfp1UET1mLrKRiY9gnw30V3Iq138INciVhNrvmUpO6aIalIiIpFLOalDx5uW9QAdgOeHsZFbW+D8SbswWE+4DPG9mecCXrLnRO9XdB+UqRhERSa9cXuI7ivDOyb5m1pnwhNeRAGbWnPB0UuaFv0/NbDzhSaV/uHuv9VmwmdUlPPb8DXp0VEQkDWoR3p17z92XJ5khlwlqf8JTWrj721lv1ePuC8ysg7sXxUYvF7l7cWxOpaWZvUp4ZHZAaU94JdAJeGP9V0FERDawA0j2MnVOE1Qjfvn45yozq531GGyRmZ0PDCY0MwKhxnODuz9pZvsDjxCSTZliu2HXlDbu0UcfpUWLFuu3FiIist6+/fZbTj75ZAjH+URymaAWAw2zPudnklOGu99tZg8AE8ysK+GdhkwCe9PMWppZXnnvS7h7AaFNsZ/FWtkXLVq0YNttS3sBX0REqkji2y65fFF3CqGhS+I9qOzWks3MxsWHIlYSHqJYTagJXRyn6QDMSfAyn4iIbIRyWYN6mtBg5VuEdwz6mdlAYJa7PxffPp9KeIpvgru/Ht8yf8TMDifUpPrmMD4REUmxnCWo2Ppy/xKDp2eNH0y4/5Q9z0JCy8ciIlLDqS0+ERFJJSUoERFJJSUoERFJpRrdWOyAYa9t0PKGDeiyQcsTEanJVIMSEZFUqtE1KBGRmqKiK0ZpvAKkBFWJli1bxqBBg/j6669ZuXIll19+OU888QRz585l1apV9OvXj549e9KnTx/atWvHzJkzKSws5I477qB58+ZcdNFFFBYWsmzZMi655BL22Wcffvvb3zJlyhQABgwYQO/evfnqq6949dVXWbZsGfPnz+fUU0/l5ZdfZubMmVx66aV069aNCRMmMGrUKPLz8+nYsSN/+tOfuOuuu/jwww9ZunQp119/PbfccsuvliciUlmUoCrR448/TsuWLRk2bBgzZsxg8uTJNG3a9OdEcMwxx9C5c2cA2rdvzxVXXMGwYcMYP348Xbt2ZcGCBYwaNYrvvvuO2bNnl7usJUuWMHLkSMaPH8+oUaMYO3Ys77zzDg8//DB77bUXd911F0899RT169fnkksu+TnJtWnThiuvvJKZM2eu1fJERDY0JahK9O9//5sDDzwQgB133JExY8aw3377AdCgQQPatm3L3LlzAdh5550BaNGiBQsWLGCHHXbg5JNPZuDAgRQVFdGnT59flZ/d+eROO+0EQMOGDWnbti15eXk0btyY5cuXM2fOHL7//nvOPvtsICSzzHJbt24NkGh5IiK5pARVidq2bcu0adPo1q0bc+fOZfz48WyyySZ0796dwsJCZsyYUWbjtu7OkiVLeOCBB5g3bx69e/ema9euFBUVsWTJEurUqcOsWT/3B0leXl6ZcWy77bZsvfXWjBw5kjp16jBu3Dh22mknJk+eTH5+frnLExGpLDU6QVX2TcHevXtz+eWXc8opp7Bq1SpGjBjBo48+yoknnsjy5cs5//zzadasWanztmrVinvuuYdnnnmGOnXqcOGFFwJw6qmncsIJJ7DtttuyzTbbJIpj8803p2/fvvTp04dVq1bRsmVLevTokWh5IiKVJS/7stDGItPdxssvv6zuNkREqPqn+L788ksOOeQQgNbuPjvJPHoPSkREUkkJSkREUkkJSkREUkkJSkREUkkJSkREUqlGP2Z+2Us3bNDybjx00AYtT0SkJlMNSkREUkkJSkREUkkJSkREUqlG34OqbOPGjeP1119n2bJlzJkzh7POOot27doxZMgQatWqRd26dRkyZAirV6/mf/7nf2jRogVz585lt912Y/DgwWWW++qrr3L33XcDoZHZwYMHM3XqVG6//Xbq1q1LkyZNGDp0KJ999hnDhw+nTp06fPnll/Ts2ZNzzz2Xl156ieHDh1O7dm1atmzJzTffzD333EPz5s058cQT+fzzzykoKGD06NH06tWLvfbaixkzZtC6dWuaNWvG+++/zyabbMIDDzzAsmXLuOKKK1i4cCEAV155JWZG165dadOmDW3atKFTp06/Wl6mDUARkQwlqEpWWFjIgw8+yOzZs+nfvz+bbrop119//c+Ntd54441ceumlzJ49mwcffJD69evTrVs35s+fzxZbbPGr8oqKihgyZAhPPvkkzZo14+677+abb77hqquuYsyYMWy11VY89NBD3HfffXTp0oWv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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "fig, ax = plt.subplots()\n",
    "\n",
    "index = np.arange(n_groups)\n",
    "rects1 = plt.bar(index, consumers, bar_width,\n",
    "                 alpha=opacity,\n",
    "                 color='b',\n",
    "                 label='consumers')\n",
    " \n",
    "rects2 = plt.bar(index + bar_width, non_consumers, bar_width,\n",
    "                 alpha=opacity,\n",
    "                 color='g',\n",
    "                 label='non_consumers')\n",
    "plt.xlabel('drug')\n",
    "plt.ylabel('depression percent')\n",
    "plt.title('Depression levels by different drug')\n",
    "plt.xticks(index + bar_width, ('cigarette', 'cigar', 'snugg', 'alcohol',\n",
    "                               'marijuana', 'cocaine', 'crack', 'heroin',\n",
    "                               'hallucinogen', 'inhalants', \n",
    "                               'pain relievers', 'tranquilizer', \n",
    "                               'stimulants','sedatives'))\n",
    "plt.legend()\n",
    " \n",
    "plt.tight_layout() "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 52,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Text(0.5,1,'Depression difference')"
      ]
     },
     "execution_count": 52,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "diff = [c - n for c, n in zip(consumers,non_consumers)]\n",
    "objects = ('cigarette', 'cigar', 'snugg', 'alcohol',\n",
    "           'marijuana', 'cocaine', 'crack', 'heroin',\n",
    "           'hallucinogen', 'inhalants', \n",
    "           'pain relievers', 'tranquilizer', \n",
    "           'stimulants','sedatives')\n",
    "y_pos = np.arange(len(objects))\n",
    " \n",
    "plt.bar(y_pos, diff, align='center', alpha=0.5)\n",
    "plt.xticks(y_pos, objects)\n",
    "plt.ylabel('% Difference')\n",
    "plt.title('Depression difference')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Features to include in the model:\n",
    "Age of first use:\n",
    "IRCIGAGE cigarette\n",
    "IRCGRAGE cigar\n",
    "IRSNFAGE snugg\n",
    "IRALCAGE alcohol\n",
    "IRMJAGE marijuana\n",
    "IRCOCAGE cocaine\n",
    "IRCRKAGE crack\n",
    "IRHERAGE heroin\n",
    "IRHALAGE hallucinogen\n",
    "IRINHAGE inhalants\n",
    "IRANLAGE pain relievers\n",
    "IRTRNAGE tranquilizer\n",
    "IRSTMAGE stimulants\n",
    "IRSEDAGE sedatives\n",
    "Ever used:\n",
    "CIGFLAG cigarette\n",
    "CGRFLAG cigar\n",
    "SNFFLAG snuff\n",
    "ALCFLAG alcohol\n",
    "MRJFLAG marijuana\n",
    "COCFLAG cocaine\n",
    "CRKFLAG crack\n",
    "HERFLAG heroin\n",
    "HALFLAG hallucinogen\n",
    "INHFLAG inhalants\n",
    "ANLFLAG pain relievers\n",
    "TRQFLAG tranquilizer\n",
    "STMFLAG stimulants\n",
    "SEDFLAG sedatives\n",
    "Past year frequency of use (range 1-365):\n",
    "IRALCFY alcohol\n",
    "IRMJFY marijuana\n",
    "IRCOCFY cocaine\n",
    "IRCRKFY crack\n",
    "IRHERFY heroin\n",
    "IRHALFY hallucinogen\n",
    "IRINHFY inhalants\n",
    "IRANLFY pain relievers\n",
    "IRTRNFY tranquilizer\n",
    "IRSTMFY stimulants\n",
    "IRSEDFY sedatives\n",
    "Past month frequency of use (range 1-30):\n",
    "IRCIGFM cigarette\n",
    "Past year use; 0 never used, 1 used within the past year:\n",
    "CIGYR cigarette\n",
    "CGRYR cigar\n",
    "SNFYR snuff\n",
    "ALCYR alcohol\n",
    "MRJYR marijuana\n",
    "COCYR cocaine\n",
    "CRKYR crack\n",
    "HERYR heroin\n",
    "HALYR hallucinogens\n",
    "INHYR inhalants\n",
    "ANLYR pain relievers\n",
    "TRQYR tranquilizer\n",
    "STMYR stimulants\n",
    "SEDYR sedatives\n",
    "CATAGE age category"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "X = df[['IRCIGAGE', 'IRCGRAGE', 'IRSNFAGE', 'IRALCAGE', 'IRMJAGE', 'IRCOCAGE', 'IRCRKAGE', 'IRHERAGE', 'IRHALAGE', 'IRINHAGE', 'IRANLAGE', 'IRTRNAGE','IRSTMAGE','IRSEDAGE', 'CIGFLAG', 'CGRFLAG', 'SNFFLAG', 'ALCFLAG', 'MRJFLAG', 'COCFLAG', 'CRKFLAG', 'HERFLAG','HALFLAG','INHFLAG', 'ANLFLAG', 'TRQFLAG', 'STMFLAG', 'SEDFLAG', 'IRALCFY', 'IRMJFY', 'IRCOCFY','IRCRKFY','IRHERFY', 'IRHALFY', 'IRINHFY', 'IRANLFY', 'IRTRNFY', 'IRSTMFY','IRSEDFY','IRCIGFM','CIGYR','CGRYR','SNFYR','ALCYR','MRJYR','COCYR','CRKYR','HERYR','HALYR','INHYR' ,'ANLYR','TRQYR','STMYR', 'SEDYR', 'CATAGE']]\n",
    "y = df[['AMDEYR']]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#Create a mask to remove rows 'Aged 12-17'\n",
    "mask = y[y.AMDEYR < 0]\n",
    "rows_to_remove = list(mask.index.values)\n",
    "X = X.drop(X.index[rows_to_remove])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "y = y[y.AMDEYR > 0]\n",
    "y= y.T.squeeze()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.33, random_state=42)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "clf = RandomForestClassifier()\n",
    "clf.fit(X_train, y_train)\n",
    "predictions = clf.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "for i in range(0, 5):\n",
    "    print(\"Actual outcome :: {} and Predicted outcome :: {}\".format(list(y_test)[i], predictions[i]))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "print(\"Train Accuracy :: \", accuracy_score(y_train, clf.predict(X_train)))\n",
    "print(\"Test Accuracy  :: \", accuracy_score(y_test, predictions))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "confusion_matrix(y_test, predictions).ravel()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "probs = clf.predict_proba(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "preds = probs[:,1]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "fpr, tpr, threshold = metrics.roc_curve(y_test, preds, pos_label=1)\n",
    "roc_auc = metrics.auc(fpr, tpr)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "plt.title('Predict Depression')\n",
    "plt.plot(fpr, tpr, 'b', label = 'AUC = %0.2f' % roc_auc)\n",
    "plt.legend(loc = 'lower right')\n",
    "plt.plot([0, 1], [0, 1],'r--')\n",
    "plt.xlim([0, 1])\n",
    "plt.ylim([0, 1])\n",
    "plt.ylabel('True Positive Rate')\n",
    "plt.xlabel('False Positive Rate')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
